---
title: "Stop! You are being frisked!"
author: "Lauren, Olya, Matt, Cj, & Keyanna"
date: "December 5, 2019"
output:
  html_document:
    toc: TRUE
    toc_float: TRUE
    code_folding: hide
      
---





# Motivation
*Provide an overview of the project goals and motivation*


# Related Work
*Anything that inspired you, such as a paper, a website, or something we discussed in class?*

# Initial Questions
*What questions are you trying to answer? How did these questions evolve over the course over the course of the project? What new questions did you consider in the course of your analysis?*

We are interested in determining if there is a predictive nature to this dataset. We also want to describe the scope of the dataset through visualizations of the different demographics present, reasons for stopping, and create a map of stops across the five boroughs. Specifically, we strive to answer the following questions:


* What is the distribution of demographics in the dataset? 
* After being stopped, can demographics, characteristics, and location of stop predict whether or not the individual will be frisked or arrested? 
* Are there any difference between stops made over the course of the year? Week? Time of day? 
* What are the trends in stops across different areas of New York City? 

# Data
Our dataset is from the New York Police Department and was obtained through the NYC Open Data resource. It contains data from 12,404 stops that occurred during 2016. The original dataset contained 112 variables, however to narrow our focus, the dataset was reduced down to 45 categorical, binary, and numerical variables that describe each stop and are relevant to the questions at hand. The data cleaning and tidying process recoded variables, implemented understandable variable names, and converted categorical variables to factors and binary variables into ‘0’ and ‘1’ within R. The outcome variables that we are interested in building models for are FRISKED and ARST_MADE. These variables are binary in nature and describe whether the stopped individual was frisked, and whether the individual was arrested. Below is the distribution of the data for both of these variables. The dataset contains __ individuals who were frisked (##%) , and ___ individuals who were arrested (##%).  


# Exploratory Analysis
*Visualizations, summaries, and exploratory statistical analyses. Justify the steps you took, and show any major changes to you ideas.*

## Logistic Regression Analysis

Goal: To select for models that will answer the following questions:

 * Among those who were stopped, can we model demographics, location of stop, and reasons for stopping to predict whether the person will be frisked or not?
 * Among those who were stopped, can we model demographics, location of stop, and reasons for stopping to predict whether the person will be arrested or not? 

Methods: 
To obtain a dataset that could be used to model logistic regression, several categorical variables with levels that had representation of less than 2% were regrouped into 'other' to ensure that both the testing and training dataset have individuals represented from all categorical levels. This included regrouping levels within the variables build, race, hair_col, and eye_color. Only variables that preceded the individual being stopped were used in logistic regression models. Thus, all variables that described reason for frisk or reason for search were omitted. We focused on the characteristics, demographics, location, and reasons for stopping in the model. To build models for ARST_MADE and FRISKED, we evaluated GVIF to verify that there is no multicollinearity present and removed any variables suspected of having high collinearity. Model selection was based on consideration of AIC values, inflated standard errors, and p values. When AIC values did not change between models, ANOVA was used to compare similar models to determine whether the larger or smaller model was significantly better. Above all, we wanted to keep the concept of parsimony in mind when selecting models and minimize overfitting.

FRISKED Model: 
Utilizing the methods above, the logistic regression model that was determined to have the best predictive ability was: frisked ~ sex + race + age + height_inch + build + stop_in_out + precinct + off_in_unif + cs_descr + cs_casng + cs_furtv + cs_vcrim + cs_bulge + cs_other
This model includes demographics, location of stop, whether or not the officer was in uniform, and five 'reason for stop' variables. With this model, the predictive power was 0.566. This value is only slightly better than guessing (0.50).

ARST_MADE Model: 
Again, using the methods above, the logistic regression model that was determined to have the best predictive ability was: arst_made ~ sex + race + weight + stop_in_out + precinct + off_in_unif + hair_col
This model includes demographics, location of stop, and whether or not the officer was in uniform. This model does not include any of the 'reason for stop' variables as the FRISKED model did. This was because the addition of these models severely reduced the predictive ability of the model. Although with the addition of some of them it made AIC lower and all variables were significant, it gave a AOC value of less than 0.50, indicating that the model was worse than just taking a random guess. Omitting these variables still did not leave us with a great predictive model, with an AOC value of 0.5005, but we choose this model because it surpased the 0.50 threshold.

## LASSO Regression

We also used LASSO to determine if machine learning could build a model that can prediction better. We removed observations that had any missing values, created testing and training datasets, and used cross validation to select the best model using the LASSO procedure. The lasso procedure for the FRISKED model selected the variables  , and minimized the other variables out of the model. The resulting AUC value was 0.5403, which was less than the value selected from our logistic modeling. The lasso procedure for the ARST_MADE model selected __ variables and minimized the others out of the mode. The resulting AUC value was 0.50, which was approximatley the same compared to the logistic model from above.

# Additional Analysis
*If you undertake formal statistical analyses, describe these in detail*

# Discussion
*What were you findings? Are they what you expected? What insights into the data can you make?*
The models created for FRISKED and ARST_MADE were not successful at predicting who would be frisked or arrested. These models were only slightly more sucessful at predicting whether or not the person would be frisked or arrested than taking a guess. While we were hoping to make a good predictive model, this points to the fact that officers are not basing their decisions on characteristics, demographics, and location of the stop. After the tactic came under scrutiny, the NYPD is taking measures to ensure that the policy is non-discriminant, which from our analyses we can see is successful. 



  


